<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapa Interactivo de Colombia</title>
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <style>
        /* Reset básico */
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: Arial, sans-serif;
            overflow: hidden; /* Evita el desplazamiento fuera del mapa */
        }
        /* Contenedor del mapa */
        #map {
            width: 100%;
            height: 100vh; /* Ocupa toda la altura de la pantalla */
            background-color: #fff; /* Fondo blanco para evitar el gris */
        }
        /* Estilo para la máscara */
        .leaflet-overlay-pane svg path {
            pointer-events: none; /* Evita interacción con la máscara */
        }
    </style>
</head>
<body>
    <!-- Contenedor del mapa -->
    <div id="map"></div>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
        // Coordenadas de Colombia
        const colombiaCenter = [4.5709, -74.2973]; // Centro de Colombia (Bogotá)
        const colombiaBounds = L.latLngBounds(
            L.latLng(-4.23, -81.85), // Esquina inferior izquierda (límite sur y oeste)
            L.latLng(13.38, -66.85)  // Esquina superior derecha (límite norte y este)
        );

        // Inicializar el mapa centrado en Colombia
        const map = L.map('map', {
            center: colombiaCenter,
            zoom: 6,
            maxBounds: colombiaBounds, // Limita el desplazamiento a Colombia
            maxBoundsViscosity: 1.0, // Fuerza los límites
            zoomControl: false // Desactiva el control de zoom
        });

        // Añadir capa de OpenStreetMap
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© OpenStreetMap contributors'
        }).addTo(map);

        // Coordenadas del polígono de Colombia (simplificado)
        const colombiaCoords = [
            [-4.23, -81.85], // Esquina inferior izquierda
            [13.38, -81.85], // Esquina superior izquierda
            [13.38, -66.85], // Esquina superior derecha
            [-4.23, -66.85],  // Esquina inferior derecha
            [-4.23, -81.85]   // Cierra el polígono
        ];

        // Crear un polígono que cubra Colombia
        const colombiaPolygon = L.polygon(colombiaCoords, {
            color: '#fff', // Color del borde (blanco)
            fillColor: '#fff', // Color de relleno (blanco)
            fillOpacity: 1, // Totalmente opaco
            interactive: false // No interactivo
        }).addTo(map);

        // Ejemplo de marcadores en Colombia
        const markers = [
            {
                name: "Bogotá",
                latlng: [4.7110, -74.0721], // Coordenadas de Bogotá
                url: "https://www.example.com/bogota" // Enlace de redirección
            },
            {
                name: "Medellín",
                latlng: [6.2442, -75.5812], // Coordenadas de Medellín
                url: "https://www.example.com/medellin" // Enlace de redirección
            },
            {
                name: "Cali",
                latlng: [3.4516, -76.5320], // Coordenadas de Cali
                url: "https://www.example.com/cali" // Enlace de redirección
            },
            // Añade más marcadores aquí
        ];

        // Añadir marcadores al mapa
        markers.forEach(marker => {
            const { name, latlng, url } = marker;
            L.marker(latlng)
                .addTo(map)
                .bindPopup(`<b>${name}</b><br><a href="${url}" target="_blank">Más información</a>`)
                .on('click', () => {
                    window.open(url, '_blank'); // Abrir enlace en una nueva pestaña
                });
        });

        // Asegurar que el mapa se redimensione correctamente
        window.addEventListener('resize', () => {
            map.invalidateSize();
        });
    </script>
</body>
</html>